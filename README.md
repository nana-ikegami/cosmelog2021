# **Cosmelog**

## **アプリの概要**
コスメの投稿ができるアプリです。
文字検索や流行りのパーソナルカラー検索もできます。
また、投稿してあるコスメにコメントもできるので情報交換もできます。

## **制作背景**
私自身がコスメが大好きでコスメ投稿アプリを毎日チェックしているので、今自分の力で出る"あったらいいな"を実装したく思い、制作しました。

## **URL**
http://54.199.123.227/

## **テスト用アカウント**
メールアドレス test@com
パスワード test919

メールアドレス nana@com
パスワード nana919

二通りありますので、一つのアカウントでのログインごとに投稿したアカウントのマイページが見れます。

## **利用方法**
まず投稿するために新規登録をします(今回は上記に記述してあるメールアドレス、パスワードでログインしてください)。
ログインできたらコスメの投稿ができます。自分の投稿したコスメは編集、削除が可能です。
他の方の投稿コスメや、自分のコスメにコメントをする場合はログインをしていなければできない仕様になっております。
今回は投稿の検索、閲覧は新規登録、ログインをしていなくてもできる仕様にしました。

## **目指した課題解決**
このアプリを制作するにあたり、ペルソナは20歳~の職業問わずコスメ好きの女性をターゲットにしました。
仕事や家事で忙しい中合間を縫って手軽にさまざまな方のお気に入りコスメを検索できて、忙しいながらも手軽に趣味であるコスメについて調べられることを目標に制作しました。
以上のことから課題解決に向け、自分の調べたい必要としている情報を簡単に検索できるような実装をしました。

## **洗い出した要件**
- 機能 ユーザー登録  目的 アプリの治安維持を考え、ユーザー登録をしてもらってから投稿できるようにするため
詳細 ログイン、新規登録機能のビューを整える devise導入
ストーリー 最初に登録しなければ使用できない

- コスメの投稿機能  目的 アプリ本来の目的であるコスメの投稿のため
詳細 画像を投稿するためのgemを導入する 投稿フォームの設置
ストーリー 投稿フォームの設置をしなければ投稿できない

- 投稿コスメの一覧表示  目的 投稿したコスメの一覧をindexに表示させる
詳細 一覧表示にさらに検索機能をつける(文字を指定した検索窓とパーソナルカラー別のプルダウン検索)
ストーリー 今までどんなコスメが投稿されたかを見て探せるようにするため

- 投稿コスメの詳細ページ  目的 投稿されたコスメの詳細がわかるようにする
詳細 投稿者が詳しくどんな使用感かなどのコメントを記載できて閲覧できるようにする
ストーリー これを使ったらどんな風になれるかなど閲覧者の好奇心、購買意欲を掻き立てるため

- 投稿コスメの削除、編集  目的 数日経った使用感などの変更について記載できるようにするため
詳細 削除、編集ボタンとそれに伴うアクションをコントローラーに定義する
ストーリー 使用感が変わったものや感想が変わったものに対する変更ができるようにするため

- 投稿コスメへのコメント  目的 投稿されたコスメへの反応をい記述するため
詳細 コメント投稿フォームを作る
ストーリー この商品いいなと思うものに対してコメントできるようにするため

以上の要件を洗い出し実装いたしました。

## **実装した機能についての画像やGIFおよびその説明**
1. 新規登録、ログイン機能
[![Image from Gyazo](https://i.gyazo.com/5c902a63b6881212d192a893d7453979.gif)](https://gyazo.com/5c902a63b6881212d192a893d7453979)
今回はログイン画面です。背景に口紅の画像をつけて装飾しました。
2. 投稿機能
[![Image from Gyazo](https://i.gyazo.com/6bf77ba3b3403bffd188b957f5f1f2c9.gif)](https://gyazo.com/6bf77ba3b3403bffd188b957f5f1f2c9)
パーソナルカラーの選択をしてもらって投稿するように実装しました。
3. トップページ、投稿一覧
[![Image from Gyazo](https://i.gyazo.com/b3448c64f717926c9683c74011aa40de.gif)](https://gyazo.com/b3448c64f717926c9683c74011aa40de)
トップページの画像の下に投稿されたコスメが一覧表示されています。
4. 投稿者のマイページ
[![Image from Gyazo](https://i.gyazo.com/6c4e5c3e29a668c51301ecb54e3bd4de.gif)](https://gyazo.com/6c4e5c3e29a668c51301ecb54e3bd4de)
5. コメント機能
投稿されているコスメにコメントができます。気になることがあったら質問もできるようにするために実装しました。
[![Image from Gyazo](https://i.gyazo.com/68d24ff83f124236f7b83fb2a0e86fe7.gif)](https://gyazo.com/68d24ff83f124236f7b83fb2a0e86fe7)
6. コスメの投稿者の編集、削除機能
[![Image from Gyazo](https://i.gyazo.com/2b3c57b5e178107371a510e5e4462227.gif)](https://gyazo.com/2b3c57b5e178107371a510e5e4462227)
使用感の変更があれば編集、削除できるようにしました。また、投稿を削除したらその投稿に紐づいているコメントも消えるように実装しています。
今回はパーソナルカラーの編集をしました。
7. 二種類の検索機能
[![Image from Gyazo](https://i.gyazo.com/5e7fc46e65ae3cd18a04ab41d0f6e89c.gif)](https://gyazo.com/5e7fc46e65ae3cd18a04ab41d0f6e89c)
指定の文字列での検索とパーソナルカラーごとのプルダウン検索をできるように実装しました。

## **工夫した点**
- パーソナルカラーごとの投稿や検索ができるように実装したこと
- 見た目が可愛らしく使いやすいアプリになるようにみやすさを重視したこと

## **今後追加したい機能について**
写真を撮って自分に似合う色の検索ができるともっとさまざまな方が手軽にメイクを楽しめると思うので、技術をつけて追加していきたいです。

## **開発環境**
Ruby / Ruby on Rails / MySQL / GitHub / AWS EC2 S3 / Visual Studio Code


# **テーブル設計**
## **users テーブル**

| Column             | Type   | Options                 |
| ------------------ | ------ | ----------------------- |
| email              | string | null: false,unique: true|
| encrypted_password | string | null: false             |
| name               | string | null: false             |


### Association

- has_many :comments
- has_many :cosmes

## **cosmes テーブル**

| Column           | Type       | Options                       |
| ---------------- | ---------- | ----------------------------- |
| text             | text       | null: false                   |
| title            | strings    | null: false                   |
| user             | references | null: false,foreign_key: true |
| personalcolor_id | integer    | null: false                   |

### Association
- belongs_to :user
- has_many :comments
- has_one_attached :image

## **comments テーブル**

| Column      | Type      | Options                       |
| ----------- | --------- | ----------------------------- |
| text        | text      | null: false                   |
| user        | references| null: false,foreign_key: true |
| cosme       | references| null: false,foreign_key: true |

### Association

- belongs_to :user
- belongs_to :cosme

